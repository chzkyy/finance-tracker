# Netlify configuration for Finance Tracker
[build]
  publish = "dist"

# Sentry tunnel: forward same-origin POST to Sentry envelope endpoint
[[redirects]]
  from = "/monitoring"
  to = "https://a561817193c525ad4976ba6f014a38a1@o4510171038941184.ingest.de.sentry.io/4510171169357904"
  status = 200
  force = true
  methods = ["POST","OPTIONS"]

# Optional: API proxy (mirror of rules in _redirects)
[[redirects]]
  from = "/api/*"
  to = "https://finance-be.calestira.com/api/:splat"
  status = 200

# SPA fallback must be last
[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200